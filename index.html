<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Birthday!</title>
    <style>
        @import url(https://fonts.googleapis.com/css?family=Lato:300italic);

        :root {
            --photo-anim-duration: 800ms;
        }

        html,
        body {
            width: 100%;
            height: 100%;
            scrollbar-width: none;
            overflow: hidden;
            margin: 0;
            padding: 0;
        }

        body {
            background: #ee9ca7;
            font-family: 'Lato', sans-serif;
            position: relative;
            font-size: 100%;
        }

        /* --- Landing Page Styles --- */
        #landing-page {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            width: 100%;
            height: 100%;
            text-align: center;
            position: relative;
            z-index: 10;
        }
        #countdown-title {
            color: rgb(238, 249, 83);
            font-size: 4em;
            margin-bottom: 20px;
            font-weight: 600;
        }

        /* --- Timer Styles --- */
        #timer {
            font-size: 2em;
            font-weight: 400;
            display: flex;
            gap: 15px;
            margin-bottom: 40px;
        }
        .timer-unit {
            display: flex;
            flex-direction: column;
            align-items: center;
            background: rgba(133, 3, 3, 0.238);
            padding: 15px;
            border-radius: 16px;
            min-width: 100px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }
        .timer-unit span {
            color: #ffffff;
            font-size: 2em;
            font-weight: 600;
        }
        .timer-unit .label {
            font-family: Verdana, Geneva, Tahoma, sans-serif;
            font-size: 0.6em;
            color: #0b7bf2;
            margin-top: 5px;
            text-transform: uppercase;
        }
        
        /*---Start Button---*/
        #start-btn {
            display: none; /* Hidden until photo animation is done */
            padding: 15px 30px;
            font-size: 1.2em;
            font-weight: 600;
            color: #fff;
            background-color: #d5378ea5;
            border: none;
            border-radius: 13px;
            cursor: pointer;
            transition: background-color 0.3s ease;
            animation: fadeIn 1s ease forwards;
            opacity: 0;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        #start-btn:hover {
            background-color: #0ec645;
        }

        /* --- Photo Grid Background --- */
        #photo-grid-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
            z-index: 5;
            pointer-events: none;
        }

        .grid-photo {
            width: 100%;
            height: 100%;
            object-fit: cover;
            opacity: 0;
        }
        
        .grid-photo.visible {
            animation: photoAppear var(--photo-anim-duration) ease-out forwards;
        }

        @keyframes photoAppear {
            from {
                opacity: 0;
                transform: scale(0.6) rotate(-15deg);
                border-radius: 50%;
            }
            to {
                opacity: 0.6;
                transform: scale(1) rotate(0deg);
                border-radius: 0;
            }
        }

        /* --- Animation Container --- */
        #animation-container {
            width: 100%;
            height: 100%;
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        #cake-wrapper {
            position: relative;
            width: 300px;
            height: 500px;
        }
        #cake {
            display: block;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
        #cake path {
            opacity: 0;
        }
        @keyframes arrive {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        #cake-layer-1 { animation: arrive 0.5s ease-out 0.5s forwards; }
        #cake-layer-2 { animation: arrive 0.5s ease-out 1.0s forwards; }
        #cake-layer-3 { animation: arrive 0.5s ease-out 1.5s forwards; }
        #cake-layer-4 { animation: arrive 0.5s ease-out 2.0s forwards; }
        #cake-layer-5 { animation: arrive 0.5s ease-out 2.5s forwards; }
        #icing { animation: arrive 0.5s ease-out 3.0s forwards; }

        /* --- Candle & Fire (replaced external .candle with inline SVG candle) --- */
        #candle {
            opacity: 0;
            animation: candle-arrive 0.5s ease-out 3.5s forwards;
        }
        @keyframes candle-arrive {
            to { opacity: 1; }
        }
        #cake svg .svg-flame { transform-origin: 50% 100%; }
        #cake svg .flame-flicker { animation: flicker 1.6s infinite ease-in-out; transform-origin: 50% 100%; }
        @keyframes flicker {
            from { transform: translateY(0) scaleY(1); opacity: 1; }
            50% { transform: translateY(-6px) scaleY(0.85); opacity: 0.8; }
            to { transform: translateY(0) scaleY(1); opacity: 1; }
        }

        /*---Text Styles---*/
        .text { color: #eef609; text-align: center; margin-top: 20px; }
        .text h1 { font-size: 1.7em; }
        .text .name { color: #ffffff; font-size: 1.2rem; margin-top: -15px; }

        /* --- Mobile Responsive Styles --- */
        @media (max-width: 480px) {
            #countdown-title { font-size: 10vw; }
            #timer { gap: 5px; transform: scale(0.8); }
            .timer-unit { min-width: 65px; padding: 8px; }
            .timer-unit span { font-size: 1.6em; }
            .timer-unit .label { font-size: 0.5em; }
            #photo-grid-background { grid-template-columns: repeat(auto-fill, minmax(75px, 1fr)); }
            #cake-wrapper { width: 85vw; height: calc(85vw * 1.667); max-width: 300px; max-height: 500px; }
            .text h1 { font-size: 1.4em; }
            .text .name { font-size: 1rem; }
        }
    </style>
</head>
<body>
    <div id="photo-grid-background"></div>

    <div id="landing-page">
        <h1 id="countdown-title">Birthday Countdown</h1>
        <div id="timer">
            <div class="timer-unit"><span id="days">00</span><div class="label">Days</div></div>
            <div class="timer-unit"><span id="hours">00</span><div class="label">Hours</div></div>
            <div class="timer-unit"><span id="minutes">00</span><div class="label">Minutes</div></div>
            <div class="timer-unit"><span id="seconds">00</span><div class="label">Seconds</div></div>
        </div>
        <button id="start-btn">Let's cut the cake</button>
    </div>

    <div id="animation-container">
        <div id="cake-wrapper">
             <svg id="cake" version="1.1" x="0px" y="0px" viewBox="0 0 200 500" enable-background="new 0 0 200 500" xml:space="preserve">
                <path id="cake-layer-1" fill="#a88679" d="M173.667,475.571c-46.512,0-105.486,0-147.334,0c-3.999,0-4-16.002,0-16.002c43.566,0,97.96,0,147.334,0 C177.667,459.569,177.666,475.571,173.667,475.571z"/>
                <path id="cake-layer-2" fill="#8b6a60" d="M173.667,451.394c2.875,0,2.997,9.257,0,9.131c-22.662-0.956-32.09-0.956-41.756-0.956 c-14.48,0-17.884,0-30.163,0c-2.087,0-2.068,0-3.915,0c-13.333,0-8.963,0-23.088,0c-11.668,0-34.99-0.294-48.412,1.831 c-4.109,0.65-3.01-10.006,0-10.006C37.129,451.394,149.379,451.394,173.667,451.394z"/>
                <path id="cake-layer-3" fill="#a88679" d="M173.667,451.394c-49.298,0-102.782,0-147.334,0c-3.999,0-4-16.002,0-16.002 c44.697,0,96.586,0,147.334,0C177.667,435.392,177.668,451.394,173.667,451.394z"/>
                <path id="cake-layer-4" fill="#8b6a60" d="M102.242,427.569c5.348,0,14.079,0,17.462,0c0,0,17.026,0,27.504,0 c19.143,0,20.39-3.797,26.459,0c3,1.877,0,7.823,0,7.823c-2.412,2.258-58.328,0-73.667,0l0,0c-1.858,0-67.187,0-73.667,0 c0,0-4.125-4.983,0-7.823c5.201-3.58,16.085,0,23.725,0c8.841,0,20.762,0,20.762,0c3.686,0,8.597,0,19.511,0H102.242z"/>
                <path id="cake-layer-5" fill="#a88679" d="M173.667,427.569c-49.795,0-101.101,0-147.334,0c-3.999,0-4-16.002,0-16.002 c46.385,0,97.539,0,147.334,0C177.668,411.567,177.667,427.569,173.667,427.569z"/>
                <path id="icing" fill="#fefae9" d="M111.547,415.233c-6.667-0.834-9.667,4.667-13.833,3.333c-19.649-6.291-8.158,22.176-14.5,22.334 c-6.667,0.166,2.833-18-13.333-22.167c-29.544-7.615-9.667,43.833-20.167,43.833c-10.333,0,8.004-55.006-16.833-39 c-7.5,4.833-9.508-3.78-9.299-7.004c0.799-12.329,23.592-7.153,38.132-7.329c10.234-0.124,20.238-1.505,38.287-2.167 c16.642-0.61,32.903,1.125,46.213,1.5c12.438,0.351,35.058-5.579,31.863,6.451c-5.532,20.833,1.25,28.216-4.409,27.883 c-7.606-0.447-6.058-37.895-20.62-23.333c-10.167,10.166-15.972-0.747-25,12C119.547,443.568,121.798,416.515,111.547,415.233z"/>
                <rect x="10" y="475.571" fill="#fefae9" width="180" height="4" />
                <!-- Inline SVG Candle -->
                <g id="candle">
                    <animateTransform attributeName="transform" type="translate" from="100 -50" to="100 385" begin="3.5s" dur="0.5s" fill="freeze" values="100 -50; 100 395; 100 385" keyTimes="0; 0.8; 1" />
                    <!-- Candle Body -->
                    <rect x="-3.5" y="0" width="7" height="30" fill="#9f1515" rx="2" />
                    <!-- Wick -->
                    <rect x="-1" y="-5" width="2" height="5" fill="#333" />
                    <!-- Flame -->
                    <g class="svg-flame" transform="translate(0, -12)">
                        <animate attributeName="opacity" from="0" to="1" begin="4.0s" dur="0.2s" fill="freeze" />
                        <ellipse class="flame-flicker" cx="0" cy="0" rx="4" ry="8" fill="#FFE78D" />
                        <ellipse class="flame-flicker" cx="0" cy="1" rx="3" ry="6" fill="#FD5E28" opacity="0.8" style="animation-delay: 0.1s;" />
                    </g>
                </g>
            </svg>
        </div>
        <div class="text">
            <h1>Happy Birthday..!!</h1>
            <h1 class="name">Manu ❤️</h1>
        </div>
    </div>

    <script>
        // --- 🎂 Main Settings ---
        const birthday = "September 2, 2025 00:00:00";

        // --- 🖼️ BACKGROUND PHOTOS SECTION ---
        // Instructions:
        // 1. Add the links to your photos inside the square brackets [ ].
        // 2. Each link must be a string in quotation marks "".
        // 3. Separate each link with a comma ,
        // Example: [ "photo1.jpg", "photo2.png", "photo3.gif" ]
        // You can add as many or as few photos as you like.
        const userPhotos = [
            "https://images.unsplash.com/photo-1513151233558-d860c5398176?w=150&q=80",
            "https://images.unsplash.com/photo-1504196606610-4add989272DF?w=150&q=80",
            "https://images.unsplash.com/photo-1514525253161-7a46d19cd819?w=150&q=80",
            "https://images.unsplash.com/photo-1527352672432-b4b7b38b1085?w=150&q=80",
            "https://images.unsplash.com/photo-1549448937-695a4970e544?w=150&q=80",
            "https://images.unsplash.com/photo-1511283282433-911b3b18a29b?w=150&q=80",
            "https://images.unsplash.com/photo-1514336927926-f76161175e17?w=150&q=80",
            "https://images.unsplash.com/photo-1558008258-32565e419859?w=150&q=80"
        ];
        
        // --- Get Elements from Page ---
        const landingPage = document.getElementById('landing-page');
        const animationContainer = document.getElementById('animation-container');
        const startButton = document.getElementById('start-btn');
        const countdownTitle = document.getElementById('countdown-title');
        const timerDiv = document.getElementById('timer');
        const photoGrid = document.getElementById('photo-grid-background');
        const daysEl = document.getElementById('days');
        const hoursEl = document.getElementById('hours');
        const minutesEl = document.getElementById('minutes');
        const secondsEl = document.getElementById('seconds');

        function formatTime(time) {
            return time < 10 ? `0${time}` : time;
        }

        // --- Function to create and show the photo grid ---
        function displayPhotoGrid() {
            const PHOTO_COUNT = 60; // Total number of photos to display in the grid
            const STAGGER_DELAY = 50; // Milliseconds between each photo appearing
            const ANIMATION_DURATION = 800; // Milliseconds, must match --photo-anim-duration in CSS

            for (let i = 0; i < PHOTO_COUNT; i++) {
                const img = document.createElement('img');
                img.classList.add('grid-photo');
                // Loop through the user's photos
                img.src = userPhotos[i % userPhotos.length];
                img.style.animationDelay = `${i * STAGGER_DELAY}ms`;
                photoGrid.appendChild(img);
                
                setTimeout(() => img.classList.add('visible'), 10);
            }

            // Calculate total time for all animations to finish
            const totalAnimationTime = (PHOTO_COUNT - 1) * STAGGER_DELAY + ANIMATION_DURATION;

            // Show the button only after the last photo has appeared
            setTimeout(() => {
                startButton.style.display = 'block';
            }, totalAnimationTime);
        }

        const countdownInterval = setInterval(() => {
            const birthdayDate = new Date(birthday);
            const now = new Date();
            const distance = birthdayDate - now;

            if (distance < 0) {
                clearInterval(countdownInterval);
                timerDiv.style.display = 'none';
                countdownTitle.innerText = 'Happy Birthday!';
                displayPhotoGrid();
            } else {
                const days = Math.floor(distance / (1000 * 60 * 60 * 24));
                const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((distance % (1000 * 60)) / 1000);

                daysEl.innerText = formatTime(days);
                hoursEl.innerText = formatTime(hours);
                minutesEl.innerText = formatTime(minutes);
                secondsEl.innerText = formatTime(seconds);
            }
        }, 1000);

        startButton.addEventListener('click', () => {
            // Fade out the landing page content and photo grid
            landingPage.style.transition = "opacity 0.5s";
            photoGrid.style.transition = "opacity 0.5s";
            landingPage.style.opacity = "0";
            photoGrid.style.opacity = "0";
            
            // Show the cake animation after the fade out
            setTimeout(() => {
                landingPage.style.display = 'none';
                photoGrid.style.display = 'none';
                animationContainer.style.display = 'flex';
            }, 500);
        });
    </script>
</body>
</html>